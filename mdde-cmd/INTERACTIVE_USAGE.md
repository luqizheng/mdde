# MDDE 交互式使用指南

## 概述
MDDE 现在支持交互式输入模式，当您没有提供必需参数时，程序会自动提示您输入相关信息。

## 交互式功能

### 1. Init 命令交互式输入

**不带参数运行：**
```bash
mdde init
```

程序会提示您输入服务器地址：
```
请输入 MDDE 服务器地址:
默认地址 [http://192.168.2.5:3000]: 
```

您可以：
- 直接按回车使用默认地址
- 输入自定义地址（必须以 http:// 或 https:// 开头）

**带参数运行（传统方式）：**
```bash
mdde init --host http://localhost:3000
```

### 2. Create 命令交互式输入

**不带参数运行：**
```bash
mdde create
```

程序会逐步引导您：

1. **选择开发环境类型：**
```
请选择开发环境类型:
可用选项:
  - dotnet9      (.NET 9 开发环境)
  - dotnet8      (.NET 8 开发环境)
  - dotnet6      (.NET 6 开发环境)
  - java21       (Java 21 开发环境)
  - java18       (Java 18 开发环境)
  - java11       (Java 11 开发环境)
  - node22       (Node.js 22 开发环境)
  - node20       (Node.js 20 开发环境)
  - node18       (Node.js 18 开发环境)
  - python312    (Python 3.12 开发环境)
  - python311    (Python 3.11 开发环境)

请输入开发环境类型: 
```

2. **输入环境名称：**
```
请输入环境名称:
环境名称 (用于标识容器): 
```

环境名称只能包含字母、数字、连字符和下划线。

**部分参数运行：**
```bash
# 只指定环境类型，交互式输入名称
mdde create dotnet9

# 只指定名称，交互式选择环境类型
mdde create --name my-dev-env

# 传统方式（指定所有必需参数）
mdde create dotnet9 --name my-dev-env
```

## 输入验证

### URL 验证
- 服务器地址必须以 `http://` 或 `https://` 开头
- 必须是有效的 URL 格式

### 环境类型验证
- 只接受预定义的环境类型
- 输入错误会显示具体错误信息

### 环境名称验证
- 不能为空
- 只允许字母、数字、连字符（-）和下划线（_）
- 用于 Docker 容器名称，必须符合容器命名规范

## 配置文件变更

交互式功能同时带来了配置文件路径的变更：

- **旧路径：** `.mdde.env`
- **新路径：** `.mdde/cfg.env`

程序会自动：
- 创建 `.mdde` 目录
- 将配置保存到 `cfg.env` 文件
- 在 `.gitignore` 中添加 `.mdde/` 目录（如果存在 .gitignore 文件）

## 示例使用流程

### 完整交互式初始化流程：
```bash
# 1. 初始化配置
mdde init
# 提示输入服务器地址，按回车使用默认值

# 2. 创建开发环境
mdde create
# 提示选择环境类型，输入: dotnet9
# 提示输入环境名称，输入: my-web-app

# 3. 启动环境
mdde start

# 4. 查看状态
mdde status
```

这样的交互式设计让新用户更容易上手，同时保持了对高级用户命令行参数的支持。
